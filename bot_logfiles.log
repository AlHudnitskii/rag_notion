2025-12-24 17:00:16,889 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-24 17:00:20,407 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-24 17:00:24,521 - config - INFO - Embedding model has been loaded
2025-12-24 17:00:24,521 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-24 17:00:24,962 - config - INFO - Ollama has been initialized
2025-12-24 17:00:24,962 - config - INFO - Starting RagNotion bot...
2025-12-24 17:00:24,973 - config - INFO - Initializing RAG system...
2025-12-24 17:00:24,973 - config - INFO - Loading existing FAISS index...
2025-12-24 17:00:24,973 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-24 17:00:24,978 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-24 17:00:25,046 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-24 17:00:25,054 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-12-24 17:00:25,067 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-24 17:00:25,068 - config - INFO - FAISS index has 1003 vectors
2025-12-24 17:00:25,068 - config - INFO - RAG system initialized successfully!
2025-12-24 17:00:25,636 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-24 17:00:25,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-24 17:00:25,676 - telegram.ext.Application - INFO - Application started
2025-12-24 17:00:35,778 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:00:44,937 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:00:44,939 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое вертикальное масштабирование?
2025-12-24 17:00:45,065 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-24 17:00:45,067 - config - INFO - Creating new QA chain for user 1620692076
2025-12-24 17:00:45,068 - config - INFO - Processing query from user 1620692076: Что такое вертикальное масштабирование?...
2025-12-24 17:00:54,266 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-24 17:00:59,878 - config - INFO - Generated answer (698 chars) with 4 sources
2025-12-24 17:00:59,879 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:01:00,030 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-24 17:01:09,914 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:01:20,417 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:01:30,515 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:01:40,558 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:01:50,599 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:00,638 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:10,677 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:20,713 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:30,752 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:40,788 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:02:50,822 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:03:00,864 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:03:04,017 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-24 17:03:04,020 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-24 17:03:04,020 - telegram.ext.Application - INFO - Application.stop() complete
2025-12-25 22:16:57,606 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:16:59,778 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:17:04,019 - config - INFO - Embedding model has been loaded
2025-12-25 22:17:04,020 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:17:04,555 - config - INFO - Ollama has been initialized
2025-12-25 22:17:04,555 - config - INFO - Starting RagNotion bot...
2025-12-25 22:17:04,555 - config - INFO - Initializing RAG system...
2025-12-25 22:17:04,556 - config - INFO - Loading existing FAISS index...
2025-12-25 22:17:04,556 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:17:04,567 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:17:04,645 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:17:04,671 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:17:04,671 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:17:04,671 - config - INFO - RAG system initialized successfully!
2025-12-25 22:17:05,514 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:17:05,598 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:17:05,599 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:17:05,600 - telegram.ext.Application - INFO - Application started
2025-12-25 22:17:15,825 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:17:25,901 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:17:35,977 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:17:46,053 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:17:56,129 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:06,206 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:16,380 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:20,052 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:20,321 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:18:20,322 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:18:20,443 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:18:22,694 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:22,795 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:18:22,921 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:18:29,979 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:30,329 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:18:30,480 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:18:40,058 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:44,306 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:18:44,308 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое Поток?
2025-12-25 22:18:44,554 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:18:44,555 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:18:44,556 - config - INFO - Processing query from user 1620692076: Что такое Поток?...
2025-12-25 22:18:58,286 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:19:12,561 - config - INFO - Generated answer (774 chars) with 4 sources
2025-12-25 22:19:12,565 - config - ERROR - Update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Aliaksandr', id=1620692076, type=<ChatType.PRIVATE>, username='elev3n1'), date=datetime.datetime(2025, 12, 25, 19, 18, 45, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='Aliaksandr', id=1620692076, is_bot=False, language_code='ru', username='elev3n1'), group_chat_created=False, message_id=272, supergroup_chat_created=False, text='Что такое Поток?'), update_id=665175169) caused error: 1 validation error for QueryLog
response_time
  Decimal input should have no more than 2 decimal places [type=decimal_max_places, input_value=Decimal('28.0059480000000...0434672832489013671875'), input_type=Decimal]
    For further information visit https://errors.pydantic.dev/2.12/v/decimal_max_places
2025-12-25 22:19:12,570 - config - ERROR - Traceback (most recent call last):
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_application.py", line 1335, in process_update
    await coroutine
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\PythonProjects\rag_notion\src\handlers.py", line 200, in handle_message
    await Analytics.log_query(
        user_id, username, question, answer, len(sources), response_time
    )
  File "D:\PythonProjects\rag_notion\src\analytics.py", line 25, in log_query
    log_entry = QueryLog(
        user_id=user_id,
    ...<6 lines>...
        feedback=feedback,
    )
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for QueryLog
response_time
  Decimal input should have no more than 2 decimal places [type=decimal_max_places, input_value=Decimal('28.0059480000000...0434672832489013671875'), input_type=Decimal]
    For further information visit https://errors.pydantic.dev/2.12/v/decimal_max_places

2025-12-25 22:19:12,572 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:19:12,896 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:19:22,717 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:19:32,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:19:42,986 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:19:53,173 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:03,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:13,434 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:23,562 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:33,744 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:36,475 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:20:36,797 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:20:36,798 - config - INFO - Initializing RAG system...
2025-12-25 22:20:36,798 - config - INFO - Loading documents from Notion folder...
2025-12-25 22:20:36,798 - config - INFO - Loading local data from folder: ./notion
2025-12-25 22:20:36,802 - config - INFO - Found 115 .md files
2025-12-25 22:20:36,802 - config - INFO - Sample files:
2025-12-25 22:20:36,802 - config - INFO -    • ./notion\1 Async 29dd9f2c765e807091a8c428322a6bb3.md
2025-12-25 22:20:36,802 - config - INFO -    • ./notion\1 Data Typеs 293d9f2c765e806a868ef1c345b7e72b.md
2025-12-25 22:20:36,803 - config - INFO -    • ./notion\1 Django DRF 29dd9f2c765e8001aa0fc7f1a58a69a6.md
2025-12-25 22:20:36,803 - config - INFO -    • ./notion\1 DML 2a3d9f2c765e808286bafb5a51465032.md
2025-12-25 22:20:36,803 - config - INFO -    • ./notion\1 Docker Containerisation & Virtualization 2a3d9f2c765e80a0993dee65d4605f5e.md
2025-12-25 22:20:36,803 - config - INFO -    ... and 110 more
2025-12-25 22:20:36,803 - config - INFO - Loading documents with DirectoryLoader...
2025-12-25 22:20:36,855 - config - INFO - SUCCESS! Loaded 115 documents.
2025-12-25 22:20:36,855 - config - INFO - Statistics:
2025-12-25 22:20:36,855 - config - INFO - - Total documents: 115
2025-12-25 22:20:36,855 - config - INFO - - Total characters: 558,745
2025-12-25 22:20:36,856 - config - INFO - - Average per document: 4859 chars
2025-12-25 22:20:36,856 - config - INFO - Enhancing metadata...
2025-12-25 22:20:36,857 - config - INFO - Metadata enhanced
2025-12-25 22:20:36,857 - config - INFO - First document preview:
2025-12-25 22:20:36,857 - config - INFO -    Title: 1 Data Typеs
2025-12-25 22:20:36,857 - config - INFO -    Content: # 1. Data Typеs  Категория: Python Core Статус: В процессе  **Тип данных** - это атрибут, определяющий, какого рода данные могут храниться в объекте.  Это могут быть целые числа, символы, метки времен...
2025-12-25 22:20:36,857 - config - INFO - Loaded 115 documents from Notion
2025-12-25 22:20:36,857 - config - INFO - Splitting 115 documents into chunks...
2025-12-25 22:20:36,916 - config - INFO - Created 1003 chunks
2025-12-25 22:20:36,917 - config - INFO - Average chunk size: 582 characters
2025-12-25 22:20:36,917 - config - INFO - Creating FAISS vectorstore with 1003 chunks...
2025-12-25 22:20:36,917 - config - INFO - Sample chunks:
2025-12-25 22:20:36,917 - config - INFO -    Chunk 1: # 1. Data Typеs  Категория: Python Core Статус: В процессе  **Тип данных** - это атрибут, определяющ...
2025-12-25 22:20:36,918 - config - INFO -    Chunk 2: ### Упорядоченные и неупорядоченные  Упорядоченные структуры данных гарантируют, что элементы извлек...
2025-12-25 22:20:36,918 - config - INFO -    Chunk 3: ### Определение типа данных переменной  В отличие от `type()`, функция `isinstance()` возвращает не ...
2025-12-25 22:20:36,918 - config - INFO - Creating FAISS index...
2025-12-25 22:22:34,773 - config - INFO - FAISS index created
2025-12-25 22:22:34,773 - config - INFO - Saving FAISS index to ./faiss_db...
2025-12-25 22:22:34,785 - config - INFO - FAISS index saved to ./faiss_db
2025-12-25 22:22:34,786 - config - INFO - FINAL COUNT: 1003 vectors in index
2025-12-25 22:22:34,786 - config - INFO - SUCCESS! FAISS index has 1003 vectors
2025-12-25 22:22:34,786 - config - INFO - RAG system initialized successfully!
2025-12-25 22:22:34,788 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:22:35,146 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:22:44,866 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:22:51,545 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:22:51,546 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое Поток?
2025-12-25 22:22:52,040 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:22:52,041 - config - INFO - Processing query from user 1620692076: Что такое Поток?...
2025-12-25 22:23:00,356 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:23:41,272 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:23:55,493 - config - INFO - Generated answer (806 chars) with 4 sources
2025-12-25 22:23:55,494 - config - ERROR - Update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Aliaksandr', id=1620692076, type=<ChatType.PRIVATE>, username='elev3n1'), date=datetime.datetime(2025, 12, 25, 19, 22, 52, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='Aliaksandr', id=1620692076, is_bot=False, language_code='ru', username='elev3n1'), group_chat_created=False, message_id=277, supergroup_chat_created=False, text='Что такое Поток?'), update_id=665175171) caused error: 1 validation error for QueryLog
response_time
  Decimal input should have no more than 2 decimal places [type=decimal_max_places, input_value=Decimal('63.4523569999999...5276210308074951171875'), input_type=Decimal]
    For further information visit https://errors.pydantic.dev/2.12/v/decimal_max_places
2025-12-25 22:23:55,495 - config - ERROR - Traceback (most recent call last):
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_application.py", line 1335, in process_update
    await coroutine
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\PythonProjects\rag_notion\src\handlers.py", line 200, in handle_message
    await Analytics.log_query(
        user_id, username, question, answer, len(sources), response_time
    )
  File "D:\PythonProjects\rag_notion\src\analytics.py", line 25, in log_query
    log_entry = QueryLog(
        user_id=user_id,
    ...<6 lines>...
        feedback=feedback,
    )
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for QueryLog
response_time
  Decimal input should have no more than 2 decimal places [type=decimal_max_places, input_value=Decimal('63.4523569999999...5276210308074951171875'), input_type=Decimal]
    For further information visit https://errors.pydantic.dev/2.12/v/decimal_max_places

2025-12-25 22:23:55,497 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:23:55,750 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:24:05,574 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:24:15,652 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:24:25,740 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:24:35,815 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:24:45,894 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:24:56,069 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:06,452 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:10,610 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:10,611 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-25 22:25:10,612 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-25 22:25:10,632 - telegram.ext.Application - INFO - Application.stop() complete
2025-12-25 22:25:17,952 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:25:19,121 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:25:22,698 - config - INFO - Embedding model has been loaded
2025-12-25 22:25:22,698 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:25:23,233 - config - INFO - Ollama has been initialized
2025-12-25 22:25:23,233 - config - INFO - Starting RagNotion bot...
2025-12-25 22:25:23,233 - config - INFO - Initializing RAG system...
2025-12-25 22:25:23,234 - config - INFO - Loading existing FAISS index...
2025-12-25 22:25:23,234 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:25:23,236 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:25:23,256 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:25:23,271 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:25:23,272 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:25:23,272 - config - INFO - RAG system initialized successfully!
2025-12-25 22:25:24,085 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:25:24,169 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:25:24,171 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:25:24,171 - telegram.ext.Application - INFO - Application started
2025-12-25 22:25:34,401 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:36,290 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:36,292 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое Поток?
2025-12-25 22:25:36,537 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:25:36,538 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:25:36,539 - config - INFO - Processing query from user 1620692076: Что такое Поток?...
2025-12-25 22:25:46,824 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:25:58,349 - config - INFO - Generated answer (774 chars) with 4 sources
2025-12-25 22:25:58,362 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:25:58,649 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:26:08,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:26:18,514 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:26:22,109 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:26:22,110 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое Поток?
2025-12-25 22:26:22,365 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:26:22,365 - config - INFO - Processing query from user 1620692076: Что такое Поток?...
2025-12-25 22:26:29,232 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:27:04,311 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:27:16,294 - config - INFO - Generated answer (806 chars) with 4 sources
2025-12-25 22:27:16,295 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:27:16,884 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:27:26,372 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:27:32,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:27:33,110 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:27:33,111 - config - INFO - Memory cleared for user 1620692076
2025-12-25 22:27:33,256 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:27:38,873 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:27:38,874 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое поток?
2025-12-25 22:27:39,195 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:27:39,195 - config - INFO - Processing query from user 1620692076: Что такое поток?...
2025-12-25 22:27:46,251 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:27:58,996 - config - INFO - Generated answer (856 chars) with 4 sources
2025-12-25 22:27:58,997 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:27:59,328 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:28:07,768 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:28:08,007 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:28:08,008 - config - ERROR - Update Update(callback_query=CallbackQuery(chat_instance='7223232804779484192', data='feedback_good', from_user=User(first_name='Aliaksandr', id=1620692076, is_bot=False, language_code='ru', username='elev3n1'), id='6960819464743931266', message=Message(channel_chat_created=False, chat=Chat(first_name='Aliaksandr', id=1620692076, type=<ChatType.PRIVATE>, username='elev3n1'), date=datetime.datetime(2025, 12, 25, 19, 28, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=25, offset=816, type=<MessageEntityType.ITALIC>),), from_user=User(first_name='Notion Assistant', id=8311155303, is_bot=True, username='ragnotion_bot'), group_chat_created=False, message_id=285, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='sources_1620692076', text='Sources'),), (InlineKeyboardButton(callback_data='clear_context', text='Clear Context'),), (InlineKeyboardButton(callback_data='feedback_good', text='Like'), InlineKeyboardButton(callback_data='feedback_bad', text='Dislike')))), supergroup_chat_created=False, text='Далее, если в тексте нет ответа, напиши "Информация отсутствует в Notion".\n\nТекст:\n**Data Lake (озеро\n\nдля передачи файлов.\n\n# 3. Multithreading\n\nКатегория: Python Async & Related\nСтатус: В процессе\n\nПоток - наименьшая единица выполнения, которая может управляться операционной системой. У потоков памяти нет, они пользуются памятью создавшего их процесса.\n\nПотоки ассоциированы с процессом, создавшим их. С каждым процесом всегда ассоциирован по меньшей мере один поток, обычно называемый главным. Процесс может создавать несколько потоков, которые обычно называются рабочими или фоновыми.\n\n![image.png\n\nПроцессы могут порождать потоки, разделяющие память со своим процессом-родителем. Они могут конкурентно выполнять другую работу, это называется многопоточностью.\n\n!image.png\n\n### Преимущества Docker-in-Docker\n\n\n Sources: 4 | Time: 19.8s')), update_id=665175176) caused error: name 'username' is not defined
2025-12-25 22:28:08,026 - config - ERROR - Traceback (most recent call last):
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_application.py", line 1335, in process_update
    await coroutine
  File "C:\Users\rrddu\AppData\Roaming\pypoetry\venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\PythonProjects\rag_notion\src\handlers.py", line 342, in button_callback
    user_id, username, question, answer, feedback
             ^^^^^^^^
NameError: name 'username' is not defined

2025-12-25 22:28:08,168 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:28:17,843 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:28:27,919 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:28:32,087 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:28:32,088 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-25 22:28:32,088 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-25 22:28:32,101 - telegram.ext.Application - INFO - Application.stop() complete
2025-12-25 22:30:07,748 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:30:08,921 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:30:13,278 - config - INFO - Embedding model has been loaded
2025-12-25 22:30:13,278 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:30:13,863 - config - INFO - Ollama has been initialized
2025-12-25 22:30:13,863 - config - INFO - Starting RagNotion bot...
2025-12-25 22:30:13,863 - config - INFO - Initializing RAG system...
2025-12-25 22:30:13,863 - config - INFO - Loading existing FAISS index...
2025-12-25 22:30:13,864 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:30:13,866 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:30:13,887 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:30:13,903 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:30:13,903 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:30:13,903 - config - INFO - RAG system initialized successfully!
2025-12-25 22:30:14,742 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:30:14,821 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:30:14,822 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:30:14,822 - telegram.ext.Application - INFO - Application started
2025-12-25 22:30:18,555 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:18,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:30:18,748 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:30:27,187 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:27,515 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:30:27,515 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:30:27,624 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:30:28,684 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:28,686 - config - INFO - Question from @elev3n1 (ID: 1620692076): Что такое поток?
2025-12-25 22:30:28,786 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:30:28,786 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:30:28,787 - config - INFO - Processing query from user 1620692076: Что такое поток?...
2025-12-25 22:30:31,036 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:30:44,184 - config - INFO - Generated answer (856 chars) with 4 sources
2025-12-25 22:30:44,186 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:44,544 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:30:54,259 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:56,583 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:30:56,830 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:30:56,928 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:06,656 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:08,153 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:08,478 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:31:08,589 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:11,462 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:11,583 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:31:11,818 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:12,949 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:13,046 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:31:13,454 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:23,327 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:31,130 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:31,600 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:31:31,760 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:33,525 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:33,615 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:31:33,726 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:31:42,603 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:31:42,604 - config - INFO - Question from @elev3n1 (ID: 1620692076): Иди нахуй
2025-12-25 22:31:42,917 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:31:42,918 - config - INFO - Processing query from user 1620692076: Иди нахуй...
2025-12-25 22:31:51,058 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:32:10,182 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:32:30,870 - config - INFO - Generated answer (1352 chars) with 4 sources
2025-12-25 22:32:30,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:32:31,183 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:32:40,944 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:32:51,019 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:33:01,196 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:33:11,270 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:33:17,973 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:33:18,222 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:33:18,223 - config - INFO - Memory cleared for user 1620692076
2025-12-25 22:33:18,351 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:33:21,223 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:33:21,224 - config - INFO - Question from @elev3n1 (ID: 1620692076): иди нахуй
2025-12-25 22:33:21,467 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:33:21,469 - config - INFO - Processing query from user 1620692076: иди нахуй...
2025-12-25 22:35:05,775 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:35:08,743 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:35:11,976 - config - INFO - Embedding model has been loaded
2025-12-25 22:35:11,976 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:35:12,514 - config - INFO - Ollama has been initialized
2025-12-25 22:35:12,514 - config - INFO - Starting RagNotion bot...
2025-12-25 22:35:12,514 - config - INFO - Initializing RAG system...
2025-12-25 22:35:12,514 - config - INFO - Loading existing FAISS index...
2025-12-25 22:35:12,514 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:35:12,524 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:35:12,600 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:35:12,623 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:35:12,623 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:35:12,623 - config - INFO - RAG system initialized successfully!
2025-12-25 22:35:13,254 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:35:13,286 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:35:13,287 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:35:13,287 - telegram.ext.Application - INFO - Application started
2025-12-25 22:35:15,738 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:35:15,879 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:35:15,880 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:35:15,986 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:35:16,871 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:35:16,872 - config - INFO - Question from @elev3n1 (ID: 1620692076): иди нахуй
2025-12-25 22:35:16,924 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:35:16,925 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:35:16,925 - config - INFO - Processing query from user 1620692076: иди нахуй...
2025-12-25 22:35:30,391 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:35:31,434 - config - INFO - Generated answer (63 chars) with 4 sources
2025-12-25 22:35:31,437 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:35:31,623 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:35:41,474 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:35:51,508 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:01,573 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:11,611 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:15,836 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:16,009 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:36:16,140 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:36:25,872 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:35,906 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:45,943 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:36:55,981 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:06,015 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:16,050 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:26,086 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:36,125 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:46,160 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:46,440 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:46,570 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:37:46,571 - config - INFO - Memory cleared for user 1620692076
2025-12-25 22:37:46,625 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:37:54,557 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:37:54,558 - config - INFO - Question from @elev3n1 (ID: 1620692076): Ещкере
2025-12-25 22:37:54,695 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:37:54,696 - config - INFO - Processing query from user 1620692076: Ещкере...
2025-12-25 22:37:57,735 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:37:59,996 - config - INFO - Generated answer (296 chars) with 4 sources
2025-12-25 22:38:00,136 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:38:04,593 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:38:14,632 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:38:24,667 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:38:34,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:38:44,740 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:38:54,775 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:04,812 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:04,883 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:04,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:39:05,054 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:39:14,924 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:17,545 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:17,710 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:39:17,800 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:39:18,602 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:18,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:39:18,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:39:28,639 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:38,676 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:48,712 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:39:58,748 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:08,782 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:18,819 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:28,869 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:38,909 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:48,943 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:40:58,980 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:09,017 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:13,223 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:13,224 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-25 22:41:13,224 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-25 22:41:13,235 - telegram.ext.Application - INFO - Application.stop() complete
2025-12-25 22:41:19,779 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:41:21,022 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:41:24,063 - config - INFO - Embedding model has been loaded
2025-12-25 22:41:24,063 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:41:24,583 - config - INFO - Ollama has been initialized
2025-12-25 22:41:24,583 - config - INFO - Starting RagNotion bot...
2025-12-25 22:41:24,583 - config - INFO - Initializing RAG system...
2025-12-25 22:41:24,583 - config - INFO - Loading existing FAISS index...
2025-12-25 22:41:24,583 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:41:24,585 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:41:24,607 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:41:24,622 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:41:24,622 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:41:24,622 - config - INFO - RAG system initialized successfully!
2025-12-25 22:41:25,249 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:41:25,284 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:41:25,286 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:41:25,286 - telegram.ext.Application - INFO - Application started
2025-12-25 22:41:33,593 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:33,709 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:41:33,710 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:41:33,771 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:41:37,532 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:37,533 - config - INFO - Question from @elev3n1 (ID: 1620692076): Ещкере
2025-12-25 22:41:37,635 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:41:37,636 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:41:37,637 - config - INFO - Processing query from user 1620692076: Ещкере...
2025-12-25 22:41:39,854 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:41:42,321 - config - INFO - Generated answer (296 chars) with 4 sources
2025-12-25 22:41:42,489 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:41:47,635 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:41:57,676 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:07,712 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:17,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:27,851 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:37,887 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:43,734 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:42:43,848 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:42:43,913 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:42:53,774 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:03,814 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:13,907 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:24,032 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:29,531 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:29,649 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:43:29,649 - config - INFO - Memory cleared for user 1620692076
2025-12-25 22:43:29,712 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:43:33,761 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:43:33,763 - config - INFO - Question from @elev3n1 (ID: 1620692076): Хуй
2025-12-25 22:43:33,809 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:43:33,810 - config - INFO - Processing query from user 1620692076: Хуй...
2025-12-25 22:43:43,090 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:44:01,969 - config - INFO - Generated answer (661 chars) with 4 sources
2025-12-25 22:44:01,971 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:02,123 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:44:06,637 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:06,682 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:44:06,735 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:44:16,679 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:26,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:36,759 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:44,546 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:44:44,547 - config - INFO - Question from @elev3n1 (ID: 1620692076): Ещкере
2025-12-25 22:44:44,655 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:44:44,656 - config - INFO - Processing query from user 1620692076: Ещкере...
2025-12-25 22:44:55,218 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:45:02,549 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:45:05,031 - config - INFO - Generated answer (155 chars) with 4 sources
2025-12-25 22:45:05,032 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:45:05,142 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 400 Bad Request"
2025-12-25 22:45:05,143 - config - ERROR - Error sending formatted message: Can't parse entities: can't find end of the entity starting at byte offset 2
2025-12-25 22:45:05,349 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:45:11,451 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:45:11,567 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:45:11,633 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:45:21,495 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:45:31,534 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:45:41,574 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:45:51,615 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:01,655 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:11,692 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:21,728 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:31,764 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:38,098 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:46:38,099 - config - INFO - Question from @elev3n1 (ID: 1620692076): 1234
2025-12-25 22:46:38,248 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:46:38,249 - config - INFO - Processing query from user 1620692076: 1234...
2025-12-25 22:46:51,800 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:47:20,190 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:47:42,009 - config - INFO - Generated answer (1226 chars) with 4 sources
2025-12-25 22:47:42,010 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:47:42,223 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:47:52,055 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:02,103 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:04,764 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:04,870 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:48:04,928 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:48:14,805 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:21,567 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:21,767 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:48:21,921 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:48:21,931 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:22,153 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:48:22,422 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:48:31,969 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:42,014 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:48:52,056 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:06,105 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:49:07,770 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:49:10,971 - config - INFO - Embedding model has been loaded
2025-12-25 22:49:10,971 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:49:11,565 - config - INFO - Ollama has been initialized
2025-12-25 22:49:11,565 - config - INFO - Starting RagNotion bot...
2025-12-25 22:49:11,565 - config - INFO - Initializing RAG system...
2025-12-25 22:49:11,565 - config - INFO - Loading existing FAISS index...
2025-12-25 22:49:11,566 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:49:11,568 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:49:11,595 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:49:11,615 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:49:11,615 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:49:11,615 - config - INFO - RAG system initialized successfully!
2025-12-25 22:49:12,303 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:49:12,340 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:49:12,341 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:49:12,341 - telegram.ext.Application - INFO - Application started
2025-12-25 22:49:22,444 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:29,986 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:30,110 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:49:30,111 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:49:30,166 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:49:40,022 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:44,510 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:44,511 - config - INFO - Question from @elev3n1 (ID: 1620692076): Ещкере
2025-12-25 22:49:44,792 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:49:44,793 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:49:44,794 - config - INFO - Processing query from user 1620692076: Ещкере...
2025-12-25 22:49:47,793 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:49:50,609 - config - INFO - Generated answer (296 chars) with 4 sources
2025-12-25 22:49:50,737 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:49:53,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:49:53,066 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:49:53,124 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:50:03,053 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:50:13,094 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:50:23,130 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:50:33,171 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:50:43,205 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:50:53,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:03,276 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:13,318 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:23,353 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:33,397 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:43,432 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:51:53,469 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:52:03,507 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:52:13,542 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:52:23,575 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:52:30,876 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:52:30,877 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-25 22:52:30,877 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-25 22:52:30,899 - telegram.ext.Application - INFO - Application.stop() complete
2025-12-25 22:52:36,978 - config - INFO - Initializing embedding model: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:52:38,213 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/paraphrase-multilingual-mpnet-base-v2
2025-12-25 22:52:41,195 - config - INFO - Embedding model has been loaded
2025-12-25 22:52:41,195 - config - INFO - Initializing Ollama: http://localhost:11434, model: tinyllama
2025-12-25 22:52:41,706 - config - INFO - Ollama has been initialized
2025-12-25 22:52:41,706 - config - INFO - Starting RagNotion bot...
2025-12-25 22:52:41,706 - config - INFO - Initializing RAG system...
2025-12-25 22:52:41,706 - config - INFO - Loading existing FAISS index...
2025-12-25 22:52:41,707 - config - INFO - Loading FAISS index from ./faiss_db
2025-12-25 22:52:41,708 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-12-25 22:52:41,729 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-12-25 22:52:41,742 - config - INFO - FAISS index loaded with 1003 vectors
2025-12-25 22:52:41,742 - config - INFO - FAISS index has 1003 vectors
2025-12-25 22:52:41,743 - config - INFO - RAG system initialized successfully!
2025-12-25 22:52:42,353 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getMe "HTTP/1.1 200 OK"
2025-12-25 22:52:42,385 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/deleteWebhook "HTTP/1.1 200 OK"
2025-12-25 22:52:42,386 - apscheduler.scheduler - INFO - Scheduler started
2025-12-25 22:52:42,387 - telegram.ext.Application - INFO - Application started
2025-12-25 22:52:52,488 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:02,524 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:12,560 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:15,167 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:15,279 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:53:15,280 - config - WARNING - User 1620692076 not found in qa_chains
2025-12-25 22:53:15,337 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:53:20,717 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:20,718 - config - INFO - Question from @elev3n1 (ID: 1620692076): Ещкере
2025-12-25 22:53:20,832 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendChatAction "HTTP/1.1 200 OK"
2025-12-25 22:53:20,832 - config - INFO - Creating new QA chain for user 1620692076
2025-12-25 22:53:20,833 - config - INFO - Processing query from user 1620692076: Ещкере...
2025-12-25 22:53:23,059 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-12-25 22:53:25,595 - config - INFO - Generated answer (296 chars) with 4 sources
2025-12-25 22:53:25,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:53:30,756 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:40,791 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:53:50,826 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:00,860 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:05,095 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:05,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/answerCallbackQuery "HTTP/1.1 200 OK"
2025-12-25 22:54:05,271 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/sendMessage "HTTP/1.1 200 OK"
2025-12-25 22:54:15,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:25,166 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:34,151 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8311155303:AAFQ4nzJkL3OcW3Yv0XoNWUJ2dz8D41jTYo/getUpdates "HTTP/1.1 200 OK"
2025-12-25 22:54:34,152 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-12-25 22:54:34,152 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-25 22:54:34,177 - telegram.ext.Application - INFO - Application.stop() complete
