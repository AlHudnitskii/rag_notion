# 5. OLAP vs OLTP

Категория: NoSQL & General theory
Статус: Готово

OLAP (Online Analytical Processing) и OLTP (Online Transaction Processing)  –  оба ключевые части управления данными, но они имеют важные различия между собой.

- OLAP спроектирован для комплексных запросов и аналитики данных, позволяя извлекать ценную информацию из обширного набора данных посредством многомерного анализа
- OLTP фокусируется на обращении к огромному числу транзакций в режиме реального времени, обеспечивая последовательность и надежность данных для ежедневных операций.

## **Online Analytical Processing (OLAP)**

OLAP относится к ПО используемых для аналитики данных в процессах принятия решений. Системы OLAP обычно позволяют пользователям извлекать и просматривать данные нелинейно, зачастую они делают это в многомерном формате, что необходимо для понимания сложных взаимосвязей в данных.

### OLAP Examples

Любые примеры DWS (Data Warehouse System) - Amazon Redshift, Google BigQuery, Snowflake -  уже являются OLAP. 

Примеры использования OLAP систем:

- Spotify персонализирует домашние страницы самобытными песнями и плейлистами, опираясь на предпочтения пользователя.
- Netflix настраивает систему рекомендаций

![image.png](image%20721.png)

### Преимущества OLAP

- Помогает поддерживать согласованность данных
- Позволяет хранить данные планирования, анализа и распределения бюджета на одной платформе
- Эффективно обрабатывает большие объемы данных
- Предоставляет многомерное представление данных, помогающие применять различные операции с данными

### Недостатки OLAP

- Для управления данными необходим действительно разбирающийся человек
- Дороговизна управления и поддержки, когда наборы данных обширны
- Отчет доступен лишь после полного анализа, что приводит к системным задержкам
- Неэффективен для принятия решений, поскольку обновляется на периодической основе

## **Online Transaction Processing (OLTP)**

OLTP - обработка данных с условием выполнения в режиме реального времени. Их основное предназначение - управление многочисленными короткими атомарными операциями, поддерживающими порядок в БД.

- Для целостности и надежности транзакций OLTP системы поддерживают ACID
- Через OLTP работают критические системы - онлайн-банки, системы бронирования

### **OLTP Examples**

Главный пример - ATM Center (банкомат). Пользователь, прошедший аутентификацию первым, получит сумму первым, при этом условием является наличие снимаемой суммы в банкомате. 

- ATM Center — это приложение OLTP.
- OLTP обрабатывает свойства ACID при транзакциях данных через приложение.
- Оно также используется для онлайн-банкинга, онлайн-бронирования авиабилетов, отправки SMS и добавления книг в корзину.

![image.png](image%20722.png)

### Преимущества OLTP

- Позволяем пользователям быстро читать, записывать и удалять данные
- Обеспечивает поддержку растущего числа пользователей
- Обеспечивает лучшую безопасность данных
- Помощь в принятии решений, благодаря точным и актуальным данным
- Обеспечивает целостность, согласованность и высокую доступность данных

### Недостатки OLTP

- Ограниченные аналитические возможности не подходят для комплексного анализа и составления отчетов
- Высокие затраты на обслуживание из-за частых обновлений, резервного копирования и восстановления
- Подвержен дублированию и несогласованности данных

## Разница между OLAP и OLTP

| Категория | OLAP  | OLTP |
| --- | --- | --- |
| Источник данных | Исторические данных с нескольких БД | Текущие операционные данные  |
| Назначение | Анализ данных и принятие решений | Повседневные транзакции |
| Используемый метод  | Хранилище данных | СУБД |
| Нормализация | Не нормализированы | 3НФ |
| Тип запросов | Сложные с преобладанием чтения | Простые запросы на чтение/запись |
| Объем данных | Большой (ГБ-ПБ) | Небольшой (МБ-ГБ) |
| Частота обновлений | Периодическое | Постоянное |
| Резервное копирование  | Периодическое | Непрерывное и тщательное |
| Пользователи | Аналитики, менеджеры и руководители | Операционный персонал и программисты |
| Фокус | Предметная область | Приложение |