# 2. Integration tests

Категория: Testing
Статус: В процессе

Интеграционное тестирование - это тип тестирования ПО, который проверяет, как различные модули или компоненты приложения взаимодействия друг с другом и с внешними системами (БД, API, сторонними сервисами, файловой системой).

В отличие от **модульных тестов** (Unit Tests), которые фокусируются на проверке изолированных, наименьших частей кода (например, отдельной функции или класса), интеграционные тесты проверяют **"связи"** и **сквозные сценарии** (end-to-end flows).

При интеграционном тестировании важно решить, как "соединять" модули:

1. Сверху-вниз (Top-Down). Начинается тестирование **высокоуровневых** модулей (например, UI или API-контроллер). Более низкоуровневые, зависимые модули **заменяются заглушками (stubs) или моками (mocks)**. Постепенно заглушки заменяются реальными компонентами.
2. Снизу-вверх (Bottom-Up) Начинается тестирование **низкоуровневых** модулей (например, модуль работы с БД). По мере того, как низкоуровневые модули проходят проверку, их объединяют и проверяют на следующем, более высоком уровне.
3. Сэндвич (Sandwich/Hybrid) Комбинация Top-Down и Bottom-Up, где тестирование ведется **от центра** (критические модули) или одновременно с обоих концов.

![image.png](image%20221.png)

**Ключевые особенности:**

- Требуют настройки окружения (тестовая БД, Docker-контейнеры)
- Медленнее unit-тестов (секунды вместо миллисекунд)
- Могут быть "хрупкими" из-за зависимостей от внешних систем
- Используют реальные или максимально близкие к реальным зависимости

Объяснить разницу между unit и integration тестами. Unit — изолированно с моками, integration — с реальными зависимостями.